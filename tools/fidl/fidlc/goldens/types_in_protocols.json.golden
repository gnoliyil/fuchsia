{
  "name": "test.typesinprotocols",
  "experiments": [
    "no_optional_structs",
    "output_index_json",
    "simple_empty_response_syntax",
    "unknown_interactions"
  ],
  "library_dependencies": [
    {
      "name": "zx",
      "declarations": {
        "zx/rights": {
          "kind": "bits"
        },
        "zx/CHANNEL_MAX_MSG_BYTES": {
          "kind": "const"
        },
        "zx/CHANNEL_MAX_MSG_HANDLES": {
          "kind": "const"
        },
        "zx/DEFAULT_CHANNEL_RIGHTS": {
          "kind": "const"
        },
        "zx/DEFAULT_EVENT_RIGHTS": {
          "kind": "const"
        },
        "zx/MAX_CPUS": {
          "kind": "const"
        },
        "zx/MAX_NAME_LEN": {
          "kind": "const"
        },
        "zx/RIGHTS_BASIC": {
          "kind": "const"
        },
        "zx/RIGHTS_IO": {
          "kind": "const"
        },
        "zx/RIGHTS_POLICY": {
          "kind": "const"
        },
        "zx/RIGHTS_PROPERTY": {
          "kind": "const"
        },
        "zx/obj_type": {
          "kind": "enum"
        },
        "zx/handle": {
          "kind": "experimental_resource"
        },
        "zx/duration": {
          "kind": "alias"
        },
        "zx/gpaddr": {
          "kind": "alias"
        },
        "zx/koid": {
          "kind": "alias"
        },
        "zx/off": {
          "kind": "alias"
        },
        "zx/paddr": {
          "kind": "alias"
        },
        "zx/paddr32": {
          "kind": "alias"
        },
        "zx/procarg": {
          "kind": "alias"
        },
        "zx/signals": {
          "kind": "alias"
        },
        "zx/status": {
          "kind": "alias"
        },
        "zx/ticks": {
          "kind": "alias"
        },
        "zx/time": {
          "kind": "alias"
        },
        "zx/vaddr": {
          "kind": "alias"
        }
      }
    }
  ],
  "bits_declarations": [
    {
      "name": "test.typesinprotocols/Bits",
      "naming_context": [
        "Bits"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 8,
        "column": 6,
        "length": 4
      },
      "type": {
        "kind": "primitive",
        "subtype": "uint32",
        "type_shape_v1": {
          "inline_size": 4,
          "alignment": 4,
          "depth": 0,
          "max_handles": 0,
          "max_out_of_line": 0,
          "has_padding": false,
          "has_envelope": false,
          "has_flexible_envelope": false
        },
        "type_shape_v2": {
          "inline_size": 4,
          "alignment": 4,
          "depth": 0,
          "max_handles": 0,
          "max_out_of_line": 0,
          "has_padding": false,
          "has_envelope": false,
          "has_flexible_envelope": false
        }
      },
      "mask": "1",
      "members": [
        {
          "name": "VAL",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 9,
            "column": 5,
            "length": 3
          },
          "value": {
            "kind": "literal",
            "value": "1",
            "expression": "1",
            "literal": {
              "kind": "numeric",
              "value": "1",
              "expression": "1"
            }
          }
        }
      ],
      "strict": false
    }
  ],
  "const_declarations": [],
  "enum_declarations": [
    {
      "name": "test.typesinprotocols/Enum",
      "naming_context": [
        "Enum"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 11,
        "column": 6,
        "length": 4
      },
      "type": "uint32",
      "members": [
        {
          "name": "VAL",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 12,
            "column": 5,
            "length": 3
          },
          "value": {
            "kind": "literal",
            "value": "1",
            "expression": "1",
            "literal": {
              "kind": "numeric",
              "value": "1",
              "expression": "1"
            }
          }
        }
      ],
      "strict": false,
      "maybe_unknown_value": 4294967295
    }
  ],
  "experimental_resource_declarations": [],
  "protocol_declarations": [
    {
      "name": "test.typesinprotocols/Protocol",
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 161,
        "column": 10,
        "length": 8
      },
      "openness": "closed",
      "composed_protocols": [],
      "methods": [
        {
          "ordinal": 8948968077914418681,
          "name": "OneWayBasic",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 162,
            "column": 5,
            "length": 11
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Basic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": false,
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 2331618702752598159,
          "name": "TwoWayBasic",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 163,
            "column": 5,
            "length": 11
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Basic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Basic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 5892309624949902400,
          "name": "EventBasic",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 164,
            "column": 8,
            "length": 10
          },
          "has_request": false,
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Basic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 3153289648860022476,
          "name": "OneWayCompound",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 166,
            "column": 5,
            "length": 14
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Compound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 88,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 24,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 72,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "has_response": false,
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 8787219719097524529,
          "name": "TwoWayCompound",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 167,
            "column": 5,
            "length": 14
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Compound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 88,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 24,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 72,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Compound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 88,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 24,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 72,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 7024581948727571669,
          "name": "EventCompound",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 168,
            "column": 8,
            "length": 13
          },
          "has_request": false,
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Compound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 88,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 24,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 72,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 7125516817014311449,
          "name": "OneWayArrayBasic",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 170,
            "column": 5,
            "length": 16
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayBasic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 384,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 384,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": false,
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 5309034178175279380,
          "name": "TwoWayArrayBasic",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 171,
            "column": 5,
            "length": 16
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayBasic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 384,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 384,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayBasic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 384,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 384,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 5888282827283820590,
          "name": "EventArrayBasic",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 172,
            "column": 8,
            "length": 15
          },
          "has_request": false,
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayBasic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 384,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 384,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 5064659223443251357,
          "name": "OneWayArrayCompound",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 174,
            "column": 5,
            "length": 19
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayCompound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 408,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 120,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 328,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 40,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "has_response": false,
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 849744466051983995,
          "name": "TwoWayArrayCompound",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 175,
            "column": 5,
            "length": 19
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayCompound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 408,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 120,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 328,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 40,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayCompound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 408,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 120,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 328,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 40,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 2189769767733851157,
          "name": "EventArrayCompound",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 176,
            "column": 8,
            "length": 18
          },
          "has_request": false,
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayCompound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 408,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 120,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 328,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 40,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 5733220720079947351,
          "name": "OneWayVectorBasic",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 178,
            "column": 5,
            "length": 17
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorBasic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 192,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 192,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": false,
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 8674156353091415668,
          "name": "TwoWayVectorBasic",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 179,
            "column": 5,
            "length": 17
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorBasic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 192,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 192,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorBasic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 192,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 192,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 4583890770109526006,
          "name": "EventVectorBasic",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 180,
            "column": 8,
            "length": 16
          },
          "has_request": false,
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorBasic",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 192,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 192,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 1853985797298830992,
          "name": "OneWayVectorCompound",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 182,
            "column": 5,
            "length": 20
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorCompound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 112,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 112,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "has_response": false,
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 3968024057912959924,
          "name": "TwoWayVectorCompound",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 183,
            "column": 5,
            "length": 20
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorCompound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 112,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 112,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorCompound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 112,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 112,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 6026375226599919603,
          "name": "EventVectorCompound",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 184,
            "column": 8,
            "length": 19
          },
          "has_request": false,
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorCompound",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 112,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 112,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 1530215841195476271,
          "name": "OneWayVectorOptional",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 186,
            "column": 5,
            "length": 20
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorOptional",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 64,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 64,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": false,
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 1030024737742222323,
          "name": "TwoWayVectorOptional",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 187,
            "column": 5,
            "length": 20
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorOptional",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 64,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 64,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorOptional",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 64,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 64,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 1684763340073130077,
          "name": "EventVectorOptional",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 188,
            "column": 8,
            "length": 19
          },
          "has_request": false,
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/VectorOptional",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 64,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 64,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 5912603762133524183,
          "name": "OneWayArrayVectorNested",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 190,
            "column": 5,
            "length": 23
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayVectorNested",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 144,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 144,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": false,
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 5351275678438791132,
          "name": "TwoWayArrayVectorNested",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 191,
            "column": 5,
            "length": 23
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayVectorNested",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 144,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 144,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayVectorNested",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 144,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 144,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 1228201560727880574,
          "name": "EventArrayVectorNested",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 192,
            "column": 8,
            "length": 22
          },
          "has_request": false,
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ArrayVectorNested",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 144,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 144,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 6553996787849601058,
          "name": "OneWayResource",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 194,
            "column": 5,
            "length": 14
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Resource",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 512,
              "alignment": 8,
              "depth": 2,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 456,
              "alignment": 8,
              "depth": 2,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "has_response": false,
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 1802709005492464987,
          "name": "TwoWayResource",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 195,
            "column": 5,
            "length": 14
          },
          "has_request": true,
          "maybe_request_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Resource",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 512,
              "alignment": 8,
              "depth": 2,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 456,
              "alignment": 8,
              "depth": 2,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Resource",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 512,
              "alignment": 8,
              "depth": 2,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 456,
              "alignment": 8,
              "depth": 2,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "is_composed": false,
          "has_error": false
        },
        {
          "ordinal": 5745997765922613643,
          "name": "EventResource",
          "strict": true,
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 196,
            "column": 8,
            "length": 13
          },
          "has_request": false,
          "has_response": true,
          "maybe_response_payload": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Resource",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 512,
              "alignment": 8,
              "depth": 2,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 456,
              "alignment": 8,
              "depth": 2,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "is_composed": false,
          "has_error": false
        }
      ]
    }
  ],
  "service_declarations": [],
  "struct_declarations": [
    {
      "name": "test.typesinprotocols/ArrayBasic",
      "naming_context": [
        "ArrayBasic"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 50,
        "column": 6,
        "length": 10
      },
      "members": [
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "uint8",
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 5,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 5,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_uint8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 51,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 0,
            "padding": 1
          },
          "field_shape_v2": {
            "offset": 0,
            "padding": 1
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "uint16",
              "type_shape_v1": {
                "inline_size": 2,
                "alignment": 2,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 2,
                "alignment": 2,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 10,
              "alignment": 2,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 10,
              "alignment": 2,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_uint16",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 52,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 6,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 6,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "uint32",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_uint32",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 53,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 16,
            "padding": 4
          },
          "field_shape_v2": {
            "offset": 16,
            "padding": 4
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "uint64",
              "type_shape_v1": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 40,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 40,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_uint64",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 54,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 40,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 40,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "int8",
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 5,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 5,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_int8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 55,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 80,
            "padding": 1
          },
          "field_shape_v2": {
            "offset": 80,
            "padding": 1
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "int16",
              "type_shape_v1": {
                "inline_size": 2,
                "alignment": 2,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 2,
                "alignment": 2,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 10,
              "alignment": 2,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 10,
              "alignment": 2,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_int16",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 56,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 86,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 86,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "int32",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_int32",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 57,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 96,
            "padding": 4
          },
          "field_shape_v2": {
            "offset": 96,
            "padding": 4
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "int64",
              "type_shape_v1": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 40,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 40,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_int64",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 58,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 120,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 120,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "float32",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_float32",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 59,
            "column": 5,
            "length": 13
          },
          "field_shape_v1": {
            "offset": 160,
            "padding": 4
          },
          "field_shape_v2": {
            "offset": 160,
            "padding": 4
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "primitive",
              "subtype": "float64",
              "type_shape_v1": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 40,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 40,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_float64",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 60,
            "column": 5,
            "length": 13
          },
          "field_shape_v1": {
            "offset": 184,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 184,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "string",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_string",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 61,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 224,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 224,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "string",
              "nullable": true,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_opt_string",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 62,
            "column": 5,
            "length": 16
          },
          "field_shape_v1": {
            "offset": 304,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 304,
            "padding": 0
          }
        }
      ],
      "resource": false,
      "type_shape_v1": {
        "inline_size": 384,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      },
      "type_shape_v2": {
        "inline_size": 384,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      }
    },
    {
      "name": "test.typesinprotocols/ArrayCompound",
      "naming_context": [
        "ArrayCompound"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 65,
        "column": 6,
        "length": 13
      },
      "members": [
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Bits",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_bits",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 66,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 0,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 0,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Enum",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_enum",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 67,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 20,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 20,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Struct",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 5,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 5,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 68,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 40,
            "padding": 3
          },
          "field_shape_v2": {
            "offset": 40,
            "padding": 3
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Table",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "array_table",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 69,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 48,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 48,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Union",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 24,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 120,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 40,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "array_union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 70,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 128,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 128,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Struct",
              "nullable": true,
              "type_shape_v1": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 40,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 40,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 40,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 40,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_opt_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 74,
            "column": 5,
            "length": 16
          },
          "maybe_attributes": [
            {
              "name": "bindings_denylist",
              "arguments": [
                {
                  "name": "value",
                  "type": "string",
                  "value": {
                    "kind": "literal",
                    "value": "rust",
                    "expression": "\"rust\"",
                    "literal": {
                      "kind": "string",
                      "value": "rust",
                      "expression": "\"rust\""
                    }
                  },
                  "location": {
                    "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                    "line": 73,
                    "column": 24,
                    "length": 6
                  }
                }
              ],
              "location": {
                "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                "line": 73,
                "column": 5,
                "length": 26
              }
            }
          ],
          "field_shape_v1": {
            "offset": 248,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 208,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Union",
              "nullable": true,
              "type_shape_v1": {
                "inline_size": 24,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 120,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 40,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "array_opt_union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 77,
            "column": 5,
            "length": 15
          },
          "maybe_attributes": [
            {
              "name": "bindings_denylist",
              "arguments": [
                {
                  "name": "value",
                  "type": "string",
                  "value": {
                    "kind": "literal",
                    "value": "rust",
                    "expression": "\"rust\"",
                    "literal": {
                      "kind": "string",
                      "value": "rust",
                      "expression": "\"rust\""
                    }
                  },
                  "location": {
                    "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                    "line": 76,
                    "column": 24,
                    "length": 6
                  }
                }
              ],
              "location": {
                "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                "line": 76,
                "column": 5,
                "length": 26
              }
            }
          ],
          "field_shape_v1": {
            "offset": 288,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 248,
            "padding": 0
          }
        }
      ],
      "resource": false,
      "type_shape_v1": {
        "inline_size": 408,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 120,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      },
      "type_shape_v2": {
        "inline_size": 328,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 40,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      }
    },
    {
      "name": "test.typesinprotocols/ArrayVectorNested",
      "naming_context": [
        "ArrayVectorNested"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 116,
        "column": 6,
        "length": 17
      },
      "members": [
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "array",
              "element_type": {
                "kind": "primitive",
                "subtype": "uint8",
                "type_shape_v1": {
                  "inline_size": 1,
                  "alignment": 1,
                  "depth": 0,
                  "max_handles": 0,
                  "max_out_of_line": 0,
                  "has_padding": false,
                  "has_envelope": false,
                  "has_flexible_envelope": false
                },
                "type_shape_v2": {
                  "inline_size": 1,
                  "alignment": 1,
                  "depth": 0,
                  "max_handles": 0,
                  "max_out_of_line": 0,
                  "has_padding": false,
                  "has_envelope": false,
                  "has_flexible_envelope": false
                }
              },
              "element_count": 5,
              "type_shape_v1": {
                "inline_size": 5,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 5,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 25,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 25,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_array_uint8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 119,
            "column": 5,
            "length": 17
          },
          "maybe_attributes": [
            {
              "name": "bindings_denylist",
              "arguments": [
                {
                  "name": "value",
                  "type": "string",
                  "value": {
                    "kind": "literal",
                    "value": "rust",
                    "expression": "\"rust\"",
                    "literal": {
                      "kind": "string",
                      "value": "rust",
                      "expression": "\"rust\""
                    }
                  },
                  "location": {
                    "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                    "line": 118,
                    "column": 24,
                    "length": 6
                  }
                }
              ],
              "location": {
                "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                "line": 118,
                "column": 5,
                "length": 26
              }
            }
          ],
          "field_shape_v1": {
            "offset": 0,
            "padding": 7
          },
          "field_shape_v2": {
            "offset": 0,
            "padding": 7
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "vector",
              "element_type": {
                "kind": "primitive",
                "subtype": "uint8",
                "type_shape_v1": {
                  "inline_size": 1,
                  "alignment": 1,
                  "depth": 0,
                  "max_handles": 0,
                  "max_out_of_line": 0,
                  "has_padding": false,
                  "has_envelope": false,
                  "has_flexible_envelope": false
                },
                "type_shape_v2": {
                  "inline_size": 1,
                  "alignment": 1,
                  "depth": 0,
                  "max_handles": 0,
                  "max_out_of_line": 0,
                  "has_padding": false,
                  "has_envelope": false,
                  "has_flexible_envelope": false
                }
              },
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_vector_uint8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 122,
            "column": 5,
            "length": 18
          },
          "maybe_attributes": [
            {
              "name": "bindings_denylist",
              "arguments": [
                {
                  "name": "value",
                  "type": "string",
                  "value": {
                    "kind": "literal",
                    "value": "rust",
                    "expression": "\"rust\"",
                    "literal": {
                      "kind": "string",
                      "value": "rust",
                      "expression": "\"rust\""
                    }
                  },
                  "location": {
                    "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                    "line": 121,
                    "column": 24,
                    "length": 6
                  }
                }
              ],
              "location": {
                "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                "line": 121,
                "column": 5,
                "length": 26
              }
            }
          ],
          "field_shape_v1": {
            "offset": 32,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 32,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "array",
              "element_type": {
                "kind": "primitive",
                "subtype": "uint8",
                "type_shape_v1": {
                  "inline_size": 1,
                  "alignment": 1,
                  "depth": 0,
                  "max_handles": 0,
                  "max_out_of_line": 0,
                  "has_padding": false,
                  "has_envelope": false,
                  "has_flexible_envelope": false
                },
                "type_shape_v2": {
                  "inline_size": 1,
                  "alignment": 1,
                  "depth": 0,
                  "max_handles": 0,
                  "max_out_of_line": 0,
                  "has_padding": false,
                  "has_envelope": false,
                  "has_flexible_envelope": false
                }
              },
              "element_count": 5,
              "type_shape_v1": {
                "inline_size": 5,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 5,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_array_uint8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 124,
            "column": 5,
            "length": 18
          },
          "field_shape_v1": {
            "offset": 112,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 112,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "vector",
              "element_type": {
                "kind": "primitive",
                "subtype": "uint8",
                "type_shape_v1": {
                  "inline_size": 1,
                  "alignment": 1,
                  "depth": 0,
                  "max_handles": 0,
                  "max_out_of_line": 0,
                  "has_padding": false,
                  "has_envelope": false,
                  "has_flexible_envelope": false
                },
                "type_shape_v2": {
                  "inline_size": 1,
                  "alignment": 1,
                  "depth": 0,
                  "max_handles": 0,
                  "max_out_of_line": 0,
                  "has_padding": false,
                  "has_envelope": false,
                  "has_flexible_envelope": false
                }
              },
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_vector_uint8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 125,
            "column": 5,
            "length": 19
          },
          "field_shape_v1": {
            "offset": 128,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 128,
            "padding": 0
          }
        }
      ],
      "resource": false,
      "type_shape_v1": {
        "inline_size": 144,
        "alignment": 8,
        "depth": 2,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      },
      "type_shape_v2": {
        "inline_size": 144,
        "alignment": 8,
        "depth": 2,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      }
    },
    {
      "name": "test.typesinprotocols/Basic",
      "naming_context": [
        "Basic"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 25,
        "column": 6,
        "length": 5
      },
      "members": [
        {
          "type": {
            "kind": "primitive",
            "subtype": "uint8",
            "type_shape_v1": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "uint8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 26,
            "column": 5,
            "length": 5
          },
          "field_shape_v1": {
            "offset": 0,
            "padding": 1
          },
          "field_shape_v2": {
            "offset": 0,
            "padding": 1
          }
        },
        {
          "type": {
            "kind": "primitive",
            "subtype": "uint16",
            "type_shape_v1": {
              "inline_size": 2,
              "alignment": 2,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 2,
              "alignment": 2,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "uint16",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 27,
            "column": 5,
            "length": 6
          },
          "field_shape_v1": {
            "offset": 2,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 2,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "primitive",
            "subtype": "uint32",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "uint32",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 28,
            "column": 5,
            "length": 6
          },
          "field_shape_v1": {
            "offset": 4,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 4,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "primitive",
            "subtype": "uint64",
            "type_shape_v1": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "uint64",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 29,
            "column": 5,
            "length": 6
          },
          "field_shape_v1": {
            "offset": 8,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 8,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "primitive",
            "subtype": "int8",
            "type_shape_v1": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "int8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 30,
            "column": 5,
            "length": 4
          },
          "field_shape_v1": {
            "offset": 16,
            "padding": 1
          },
          "field_shape_v2": {
            "offset": 16,
            "padding": 1
          }
        },
        {
          "type": {
            "kind": "primitive",
            "subtype": "int16",
            "type_shape_v1": {
              "inline_size": 2,
              "alignment": 2,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 2,
              "alignment": 2,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "int16",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 31,
            "column": 5,
            "length": 5
          },
          "field_shape_v1": {
            "offset": 18,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 18,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "primitive",
            "subtype": "int32",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "int32",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 32,
            "column": 5,
            "length": 5
          },
          "field_shape_v1": {
            "offset": 20,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 20,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "primitive",
            "subtype": "int64",
            "type_shape_v1": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "int64",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 33,
            "column": 5,
            "length": 5
          },
          "field_shape_v1": {
            "offset": 24,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 24,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "primitive",
            "subtype": "float32",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "float32",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 34,
            "column": 5,
            "length": 7
          },
          "field_shape_v1": {
            "offset": 32,
            "padding": 4
          },
          "field_shape_v2": {
            "offset": 32,
            "padding": 4
          }
        },
        {
          "type": {
            "kind": "primitive",
            "subtype": "float64",
            "type_shape_v1": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "float64",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 35,
            "column": 5,
            "length": 7
          },
          "field_shape_v1": {
            "offset": 40,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 40,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "string",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "string",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 36,
            "column": 5,
            "length": 6
          },
          "field_shape_v1": {
            "offset": 48,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 48,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "string",
            "nullable": true,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_string",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 37,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 64,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 64,
            "padding": 0
          }
        }
      ],
      "resource": false,
      "type_shape_v1": {
        "inline_size": 80,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      },
      "type_shape_v2": {
        "inline_size": 80,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      }
    },
    {
      "name": "test.typesinprotocols/Compound",
      "naming_context": [
        "Compound"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 40,
        "column": 6,
        "length": 8
      },
      "members": [
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Bits",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "bits",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 41,
            "column": 5,
            "length": 4
          },
          "field_shape_v1": {
            "offset": 0,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 0,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Enum",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "enum",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 42,
            "column": 5,
            "length": 4
          },
          "field_shape_v1": {
            "offset": 4,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 4,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Struct",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 43,
            "column": 5,
            "length": 6
          },
          "field_shape_v1": {
            "offset": 8,
            "padding": 7
          },
          "field_shape_v2": {
            "offset": 8,
            "padding": 7
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Table",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "table",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 44,
            "column": 5,
            "length": 5
          },
          "field_shape_v1": {
            "offset": 16,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 16,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Union",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 24,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 45,
            "column": 5,
            "length": 5
          },
          "field_shape_v1": {
            "offset": 32,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 32,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Struct",
            "nullable": true,
            "type_shape_v1": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 46,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 56,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 48,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Union",
            "nullable": true,
            "type_shape_v1": {
              "inline_size": 24,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "opt_union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 47,
            "column": 5,
            "length": 9
          },
          "field_shape_v1": {
            "offset": 64,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 56,
            "padding": 0
          }
        }
      ],
      "resource": false,
      "type_shape_v1": {
        "inline_size": 88,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 24,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      },
      "type_shape_v2": {
        "inline_size": 72,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 8,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      }
    },
    {
      "name": "test.typesinprotocols/Resource",
      "naming_context": [
        "Resource"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 128,
        "column": 6,
        "length": 8
      },
      "members": [
        {
          "type": {
            "kind": "handle",
            "obj_type": 0,
            "subtype": "handle",
            "rights": 2147483648,
            "nullable": false,
            "resource_identifier": "zx/handle",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "handle",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 129,
            "column": 5,
            "length": 6
          },
          "field_shape_v1": {
            "offset": 0,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 0,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "handle",
            "obj_type": 3,
            "subtype": "vmo",
            "rights": 2147483648,
            "nullable": false,
            "resource_identifier": "zx/handle",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vmo",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 130,
            "column": 5,
            "length": 3
          },
          "field_shape_v1": {
            "offset": 4,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 4,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Protocol",
            "nullable": false,
            "protocol_transport": "Channel",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "client_end",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 131,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 8,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 8,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "request",
            "subtype": "test.typesinprotocols/Protocol",
            "nullable": false,
            "protocol_transport": "Channel",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "server_end",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 132,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 12,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 12,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ResourceStruct",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 133,
            "column": 5,
            "length": 6
          },
          "field_shape_v1": {
            "offset": 16,
            "padding": 7
          },
          "field_shape_v2": {
            "offset": 16,
            "padding": 7
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ResourceTable",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "table",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 134,
            "column": 5,
            "length": 5
          },
          "field_shape_v1": {
            "offset": 24,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 24,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ResourceUnion",
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 24,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 135,
            "column": 5,
            "length": 5
          },
          "field_shape_v1": {
            "offset": 40,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 40,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "handle",
            "obj_type": 0,
            "subtype": "handle",
            "rights": 2147483648,
            "nullable": true,
            "resource_identifier": "zx/handle",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_handle",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 137,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 64,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 56,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "handle",
            "obj_type": 3,
            "subtype": "vmo",
            "rights": 2147483648,
            "nullable": true,
            "resource_identifier": "zx/handle",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_vmo",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 138,
            "column": 5,
            "length": 7
          },
          "field_shape_v1": {
            "offset": 68,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 60,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/Protocol",
            "nullable": true,
            "protocol_transport": "Channel",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_client_end",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 139,
            "column": 5,
            "length": 14
          },
          "field_shape_v1": {
            "offset": 72,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 64,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "request",
            "subtype": "test.typesinprotocols/Protocol",
            "nullable": true,
            "protocol_transport": "Channel",
            "type_shape_v1": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 4,
              "alignment": 4,
              "depth": 0,
              "max_handles": 1,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_server_end",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 140,
            "column": 5,
            "length": 14
          },
          "field_shape_v1": {
            "offset": 76,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 68,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ResourceStruct",
            "nullable": true,
            "type_shape_v1": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 8,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 141,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 80,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 72,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "identifier",
            "identifier": "test.typesinprotocols/ResourceUnion",
            "nullable": true,
            "type_shape_v1": {
              "inline_size": 24,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 8,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "opt_union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 142,
            "column": 5,
            "length": 9
          },
          "field_shape_v1": {
            "offset": 88,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 80,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "handle",
              "obj_type": 0,
              "subtype": "handle",
              "rights": 2147483648,
              "nullable": false,
              "resource_identifier": "zx/handle",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 5,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 5,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_handle",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 144,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 112,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 96,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "handle",
              "obj_type": 3,
              "subtype": "vmo",
              "rights": 2147483648,
              "nullable": false,
              "resource_identifier": "zx/handle",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 5,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 5,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_vmo",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 145,
            "column": 5,
            "length": 9
          },
          "field_shape_v1": {
            "offset": 132,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 116,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Protocol",
              "nullable": false,
              "protocol_transport": "Channel",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 5,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 5,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_client_end",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 146,
            "column": 5,
            "length": 16
          },
          "field_shape_v1": {
            "offset": 152,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 136,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "request",
              "subtype": "test.typesinprotocols/Protocol",
              "nullable": false,
              "protocol_transport": "Channel",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 5,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 20,
              "alignment": 4,
              "depth": 0,
              "max_handles": 5,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_server_end",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 147,
            "column": 5,
            "length": 16
          },
          "field_shape_v1": {
            "offset": 172,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 156,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/ResourceStruct",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 5,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 5,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "array_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 148,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 192,
            "padding": 3
          },
          "field_shape_v2": {
            "offset": 176,
            "padding": 3
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/ResourceTable",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "array_table",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 149,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 200,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 184,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "array",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/ResourceUnion",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 24,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "element_count": 5,
            "type_shape_v1": {
              "inline_size": 120,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 40,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 80,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "array_union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 150,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 280,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 264,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "handle",
              "obj_type": 0,
              "subtype": "handle",
              "rights": 2147483648,
              "nullable": false,
              "resource_identifier": "zx/handle",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_handle",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 152,
            "column": 5,
            "length": 13
          },
          "field_shape_v1": {
            "offset": 400,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 344,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "handle",
              "obj_type": 3,
              "subtype": "vmo",
              "rights": 2147483648,
              "nullable": false,
              "resource_identifier": "zx/handle",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_vmo",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 153,
            "column": 5,
            "length": 10
          },
          "field_shape_v1": {
            "offset": 416,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 360,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Protocol",
              "nullable": false,
              "protocol_transport": "Channel",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_client_end",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 154,
            "column": 5,
            "length": 17
          },
          "field_shape_v1": {
            "offset": 432,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 376,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "request",
              "subtype": "test.typesinprotocols/Protocol",
              "nullable": false,
              "protocol_transport": "Channel",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 1,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 4294967295,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_server_end",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 155,
            "column": 5,
            "length": 17
          },
          "field_shape_v1": {
            "offset": 448,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 392,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/ResourceStruct",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 156,
            "column": 5,
            "length": 13
          },
          "field_shape_v1": {
            "offset": 464,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 408,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/ResourceTable",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "vector_table",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 157,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 480,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 424,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/ResourceUnion",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 24,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "vector_union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 158,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 496,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 440,
            "padding": 0
          }
        }
      ],
      "resource": true,
      "type_shape_v1": {
        "inline_size": 512,
        "alignment": 8,
        "depth": 2,
        "max_handles": 4294967295,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      },
      "type_shape_v2": {
        "inline_size": 456,
        "alignment": 8,
        "depth": 2,
        "max_handles": 4294967295,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      }
    },
    {
      "name": "test.typesinprotocols/ResourceStruct",
      "naming_context": [
        "ResourceStruct"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 19,
        "column": 6,
        "length": 14
      },
      "members": [],
      "resource": true,
      "type_shape_v1": {
        "inline_size": 1,
        "alignment": 1,
        "depth": 0,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": false,
        "has_envelope": false,
        "has_flexible_envelope": false
      },
      "type_shape_v2": {
        "inline_size": 1,
        "alignment": 1,
        "depth": 0,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": false,
        "has_envelope": false,
        "has_flexible_envelope": false
      }
    },
    {
      "name": "test.typesinprotocols/Struct",
      "naming_context": [
        "Struct"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 14,
        "column": 6,
        "length": 6
      },
      "members": [],
      "resource": false,
      "type_shape_v1": {
        "inline_size": 1,
        "alignment": 1,
        "depth": 0,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": false,
        "has_envelope": false,
        "has_flexible_envelope": false
      },
      "type_shape_v2": {
        "inline_size": 1,
        "alignment": 1,
        "depth": 0,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": false,
        "has_envelope": false,
        "has_flexible_envelope": false
      }
    },
    {
      "name": "test.typesinprotocols/VectorBasic",
      "naming_context": [
        "VectorBasic"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 80,
        "column": 6,
        "length": 11
      },
      "members": [
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "uint8",
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_uint8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 81,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 0,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 0,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "uint16",
              "type_shape_v1": {
                "inline_size": 2,
                "alignment": 2,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 2,
                "alignment": 2,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_uint16",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 82,
            "column": 5,
            "length": 13
          },
          "field_shape_v1": {
            "offset": 16,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 16,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "uint32",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_uint32",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 83,
            "column": 5,
            "length": 13
          },
          "field_shape_v1": {
            "offset": 32,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 32,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "uint64",
              "type_shape_v1": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_uint64",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 84,
            "column": 5,
            "length": 13
          },
          "field_shape_v1": {
            "offset": 48,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 48,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "int8",
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_int8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 85,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 64,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 64,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "int16",
              "type_shape_v1": {
                "inline_size": 2,
                "alignment": 2,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 2,
                "alignment": 2,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_int16",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 86,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 80,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 80,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "int32",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_int32",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 87,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 96,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 96,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "int64",
              "type_shape_v1": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_int64",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 88,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 112,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 112,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "float32",
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_float32",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 89,
            "column": 5,
            "length": 14
          },
          "field_shape_v1": {
            "offset": 128,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 128,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "float64",
              "type_shape_v1": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_float64",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 90,
            "column": 5,
            "length": 14
          },
          "field_shape_v1": {
            "offset": 144,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 144,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "string",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_string",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 91,
            "column": 5,
            "length": 13
          },
          "field_shape_v1": {
            "offset": 160,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 160,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "string",
              "nullable": true,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_opt_string",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 92,
            "column": 5,
            "length": 17
          },
          "field_shape_v1": {
            "offset": 176,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 176,
            "padding": 0
          }
        }
      ],
      "resource": false,
      "type_shape_v1": {
        "inline_size": 192,
        "alignment": 8,
        "depth": 2,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      },
      "type_shape_v2": {
        "inline_size": 192,
        "alignment": 8,
        "depth": 2,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      }
    },
    {
      "name": "test.typesinprotocols/VectorCompound",
      "naming_context": [
        "VectorCompound"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 95,
        "column": 6,
        "length": 14
      },
      "members": [
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Bits",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_bits",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 96,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 0,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 0,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Enum",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 4,
                "alignment": 4,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_enum",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 97,
            "column": 5,
            "length": 11
          },
          "field_shape_v1": {
            "offset": 16,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 16,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Struct",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 98,
            "column": 5,
            "length": 13
          },
          "field_shape_v1": {
            "offset": 32,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 32,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Table",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": false,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "vector_table",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 99,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 48,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 48,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Union",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 24,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "vector_union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 100,
            "column": 5,
            "length": 12
          },
          "field_shape_v1": {
            "offset": 64,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 64,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Struct",
              "nullable": true,
              "type_shape_v1": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "vector_opt_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 101,
            "column": 5,
            "length": 17
          },
          "field_shape_v1": {
            "offset": 80,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 80,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Union",
              "nullable": true,
              "type_shape_v1": {
                "inline_size": 24,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": true,
                "has_envelope": true,
                "has_flexible_envelope": true
              }
            },
            "nullable": false,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": true,
              "has_flexible_envelope": true
            }
          },
          "name": "vector_opt_union",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 102,
            "column": 5,
            "length": 16
          },
          "field_shape_v1": {
            "offset": 96,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 96,
            "padding": 0
          }
        }
      ],
      "resource": false,
      "type_shape_v1": {
        "inline_size": 112,
        "alignment": 8,
        "depth": 2,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      },
      "type_shape_v2": {
        "inline_size": 112,
        "alignment": 8,
        "depth": 2,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      }
    },
    {
      "name": "test.typesinprotocols/VectorOptional",
      "naming_context": [
        "VectorOptional"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 105,
        "column": 6,
        "length": 14
      },
      "members": [
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "primitive",
              "subtype": "uint8",
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": true,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_vector_uint8",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 106,
            "column": 5,
            "length": 16
          },
          "field_shape_v1": {
            "offset": 0,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 0,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "string",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 16,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 4294967295,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": true,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_vector_string",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 107,
            "column": 5,
            "length": 17
          },
          "field_shape_v1": {
            "offset": 16,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 16,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Struct",
              "nullable": false,
              "type_shape_v1": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 1,
                "alignment": 1,
                "depth": 0,
                "max_handles": 0,
                "max_out_of_line": 0,
                "has_padding": false,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": true,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 1,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_vector_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 111,
            "column": 5,
            "length": 17
          },
          "maybe_attributes": [
            {
              "name": "bindings_denylist",
              "arguments": [
                {
                  "name": "value",
                  "type": "string",
                  "value": {
                    "kind": "literal",
                    "value": "hlcpp, libfuzzer",
                    "expression": "\"hlcpp, libfuzzer\"",
                    "literal": {
                      "kind": "string",
                      "value": "hlcpp, libfuzzer",
                      "expression": "\"hlcpp, libfuzzer\""
                    }
                  },
                  "location": {
                    "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                    "line": 110,
                    "column": 24,
                    "length": 18
                  }
                }
              ],
              "location": {
                "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
                "line": 110,
                "column": 5,
                "length": 38
              }
            }
          ],
          "field_shape_v1": {
            "offset": 32,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 32,
            "padding": 0
          }
        },
        {
          "type": {
            "kind": "vector",
            "element_type": {
              "kind": "identifier",
              "identifier": "test.typesinprotocols/Struct",
              "nullable": true,
              "type_shape_v1": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              },
              "type_shape_v2": {
                "inline_size": 8,
                "alignment": 8,
                "depth": 1,
                "max_handles": 0,
                "max_out_of_line": 8,
                "has_padding": true,
                "has_envelope": false,
                "has_flexible_envelope": false
              }
            },
            "nullable": true,
            "type_shape_v1": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 16,
              "alignment": 8,
              "depth": 2,
              "max_handles": 0,
              "max_out_of_line": 4294967295,
              "has_padding": true,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "name": "opt_vector_opt_struct",
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 113,
            "column": 5,
            "length": 21
          },
          "field_shape_v1": {
            "offset": 48,
            "padding": 0
          },
          "field_shape_v2": {
            "offset": 48,
            "padding": 0
          }
        }
      ],
      "resource": false,
      "type_shape_v1": {
        "inline_size": 64,
        "alignment": 8,
        "depth": 2,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      },
      "type_shape_v2": {
        "inline_size": 64,
        "alignment": 8,
        "depth": 2,
        "max_handles": 0,
        "max_out_of_line": 4294967295,
        "has_padding": true,
        "has_envelope": false,
        "has_flexible_envelope": false
      }
    }
  ],
  "external_struct_declarations": [],
  "table_declarations": [
    {
      "name": "test.typesinprotocols/ResourceTable",
      "naming_context": [
        "ResourceTable"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 20,
        "column": 6,
        "length": 13
      },
      "members": [],
      "strict": false,
      "resource": true,
      "type_shape_v1": {
        "inline_size": 16,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": false,
        "has_envelope": true,
        "has_flexible_envelope": true
      },
      "type_shape_v2": {
        "inline_size": 16,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": false,
        "has_envelope": true,
        "has_flexible_envelope": true
      }
    },
    {
      "name": "test.typesinprotocols/Table",
      "naming_context": [
        "Table"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 15,
        "column": 6,
        "length": 5
      },
      "members": [],
      "strict": false,
      "resource": false,
      "type_shape_v1": {
        "inline_size": 16,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": false,
        "has_envelope": true,
        "has_flexible_envelope": true
      },
      "type_shape_v2": {
        "inline_size": 16,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": false,
        "has_envelope": true,
        "has_flexible_envelope": true
      }
    }
  ],
  "union_declarations": [
    {
      "name": "test.typesinprotocols/ResourceUnion",
      "naming_context": [
        "ResourceUnion"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 21,
        "column": 6,
        "length": 13
      },
      "members": [
        {
          "ordinal": 1,
          "reserved": false,
          "name": "b",
          "type": {
            "kind": "primitive",
            "subtype": "bool",
            "type_shape_v1": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 22,
            "column": 8,
            "length": 1
          }
        }
      ],
      "strict": false,
      "resource": true,
      "type_shape_v1": {
        "inline_size": 24,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 8,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      },
      "type_shape_v2": {
        "inline_size": 16,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      }
    },
    {
      "name": "test.typesinprotocols/Union",
      "naming_context": [
        "Union"
      ],
      "location": {
        "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
        "line": 16,
        "column": 6,
        "length": 5
      },
      "members": [
        {
          "ordinal": 1,
          "reserved": false,
          "name": "b",
          "type": {
            "kind": "primitive",
            "subtype": "bool",
            "type_shape_v1": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            },
            "type_shape_v2": {
              "inline_size": 1,
              "alignment": 1,
              "depth": 0,
              "max_handles": 0,
              "max_out_of_line": 0,
              "has_padding": false,
              "has_envelope": false,
              "has_flexible_envelope": false
            }
          },
          "location": {
            "filename": "../../tools/fidl/fidlc/testdata/types_in_protocols.test.fidl",
            "line": 17,
            "column": 8,
            "length": 1
          }
        }
      ],
      "strict": false,
      "resource": false,
      "type_shape_v1": {
        "inline_size": 24,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 8,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      },
      "type_shape_v2": {
        "inline_size": 16,
        "alignment": 8,
        "depth": 1,
        "max_handles": 0,
        "max_out_of_line": 0,
        "has_padding": true,
        "has_envelope": true,
        "has_flexible_envelope": true
      }
    }
  ],
  "alias_declarations": [],
  "new_type_declarations": [],
  "declaration_order": [
    "test.typesinprotocols/VectorOptional",
    "test.typesinprotocols/VectorBasic",
    "test.typesinprotocols/Union",
    "test.typesinprotocols/Table",
    "test.typesinprotocols/Struct",
    "test.typesinprotocols/ResourceUnion",
    "test.typesinprotocols/ResourceTable",
    "test.typesinprotocols/ResourceStruct",
    "test.typesinprotocols/Resource",
    "test.typesinprotocols/Enum",
    "test.typesinprotocols/Bits",
    "test.typesinprotocols/VectorCompound",
    "test.typesinprotocols/Compound",
    "test.typesinprotocols/ArrayCompound",
    "test.typesinprotocols/Basic",
    "test.typesinprotocols/ArrayVectorNested",
    "test.typesinprotocols/ArrayBasic",
    "test.typesinprotocols/Protocol"
  ],
  "declarations": {
    "test.typesinprotocols/Bits": "bits",
    "test.typesinprotocols/Enum": "enum",
    "test.typesinprotocols/Protocol": "protocol",
    "test.typesinprotocols/ArrayBasic": "struct",
    "test.typesinprotocols/ArrayCompound": "struct",
    "test.typesinprotocols/ArrayVectorNested": "struct",
    "test.typesinprotocols/Basic": "struct",
    "test.typesinprotocols/Compound": "struct",
    "test.typesinprotocols/Resource": "struct",
    "test.typesinprotocols/ResourceStruct": "struct",
    "test.typesinprotocols/Struct": "struct",
    "test.typesinprotocols/VectorBasic": "struct",
    "test.typesinprotocols/VectorCompound": "struct",
    "test.typesinprotocols/VectorOptional": "struct",
    "test.typesinprotocols/ResourceTable": "table",
    "test.typesinprotocols/Table": "table",
    "test.typesinprotocols/ResourceUnion": "union",
    "test.typesinprotocols/Union": "union"
  }
}
