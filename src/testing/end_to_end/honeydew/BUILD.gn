# Copyright 2023 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/fidl/toolchain.gni")
import("//build/python/python_library.gni")
import("//build/testing/host_test_data.gni")

python_library("honeydew") {
  library_name = "honeydew"
  testonly = true
  source_root = "//src/testing/end_to_end/honeydew/honeydew"
  sources = [
    "__init__.py",
    "affordances/__init__.py",
    "affordances/ffx/__init__.py",
    "affordances/ffx/session.py",
    "affordances/fuchsia_controller/__init__.py",
    "affordances/fuchsia_controller/bluetooth/bluetooth_gap.py",
    "affordances/fuchsia_controller/tracing.py",
    "affordances/fuchsia_controller/ui/__init__.py",
    "affordances/fuchsia_controller/ui/screenshot.py",
    "affordances/fuchsia_controller/ui/user_input.py",
    "affordances/sl4f/__init__.py",
    "affordances/sl4f/bluetooth/bluetooth_gap.py",
    "affordances/sl4f/tracing.py",
    "affordances/sl4f/ui/__init__.py",
    "affordances/sl4f/ui/screenshot.py",
    "affordances/sl4f/ui/user_input.py",
    "custom_types.py",
    "device_classes/__init__.py",
    "device_classes/base_fuchsia_device.py",
    "device_classes/fuchsia_controller/__init__.py",
    "device_classes/fuchsia_controller/fuchsia_device.py",
    "device_classes/fuchsia_controller/generic_fuchsia_device.py",
    "device_classes/fuchsia_controller/vim3.py",
    "device_classes/fuchsia_controller/x64.py",
    "device_classes/sl4f/__init__.py",
    "device_classes/sl4f/fuchsia_device.py",
    "device_classes/sl4f/generic_fuchsia_device.py",
    "device_classes/sl4f/vim3.py",
    "device_classes/sl4f/x64.py",
    "errors.py",
    "interfaces/__init__.py",
    "interfaces/affordances/__init__.py",
    "interfaces/affordances/bluetooth/bluetooth_gap.py",
    "interfaces/affordances/session.py",
    "interfaces/affordances/tracing.py",
    "interfaces/affordances/ui/__init__.py",
    "interfaces/affordances/ui/custom_types.py",
    "interfaces/affordances/ui/screenshot.py",
    "interfaces/affordances/ui/user_input.py",
    "interfaces/auxiliary_devices/__init__.py",
    "interfaces/auxiliary_devices/power_switch.py",
    "interfaces/device_classes/__init__.py",
    "interfaces/device_classes/affordances_capable.py",
    "interfaces/device_classes/fuchsia_device.py",
    "interfaces/device_classes/transports_capable.py",
    "transports/__init__.py",
    "transports/fastboot.py",
    "transports/ffx.py",
    "transports/fuchsia_controller.py",
    "transports/sl4f.py",
    "transports/ssh.py",
    "utils/__init__.py",
    "utils/common.py",
    "utils/http_utils.py",
    "utils/properties.py",
  ]

  library_deps = [
    ":honeydew_fidl_ir_and_deps",
    "//src/developer/ffx/lib/fuchsia-controller:fidl_bindings",
  ]
}

# This data is specific to ONLY Fuchsia Controller based tests. Other Fuchsia
# Controller based tests will need to add their respective host test data
# definitions to include the proper FIDL IR json.
host_test_data("honeydew_fidl_ir_and_deps") {
  sources = []
  deps = [
    "//sdk/fidl/fuchsia.buildinfo:fuchsia.buildinfo_host_test_data",
    "//sdk/fidl/fuchsia.developer.remotecontrol:fuchsia.developer.remotecontrol_host_test_data",
    "//sdk/fidl/fuchsia.diagnostics:fuchsia.diagnostics_host_test_data",
    "//sdk/fidl/fuchsia.hardware.power.statecontrol:fuchsia.hardware.power.statecontrol_host_test_data",
    "//sdk/fidl/fuchsia.hwinfo:fuchsia.hwinfo_host_test_data",
    "//src/developer/ffx/lib/fuchsia-controller/tests:fuchsia_controller_test_data",
  ]
}
