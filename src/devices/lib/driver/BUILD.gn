# Copyright 2020 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

group("driver") {
  deps = [ "//src/devices/bin/driver_host:driver" ]

  #  ________  _________  ________  ________
  # |\   ____\|\___   ___\\   __  \|\   __  \
  # \ \  \___|\|___ \  \_\ \  \|\  \ \  \|\  \
  #  \ \_____  \   \ \  \ \ \  \\\  \ \   ____\
  #   \|____|\  \   \ \  \ \ \  \\\  \ \  \___|
  #     ____\_\  \   \ \__\ \ \_______\ \__\
  #    |\_________\   \|__|  \|_______|\|__|
  #    \|_________|
  #
  # New drivers should be written for DFv2. If you need to target a board stuck on DFv1,
  # it is acceptable to add an entry to this list.
  #
  # To remove items from the allowlist, please send a change to one of the OWNERS of
  # this file to remove an element from the visibility list below.
  #
  # Please allowlist entire directories rather than individual targets as it
  # requires less allowlist churn over time.
  visibility = [
    "//examples/drivers/driver_test_realm/sample-driver:*",
    "//examples/drivers/transport/banjo:*",
    "//examples/drivers/transport/driver/v1:*",
    "//examples/drivers/transport/zircon/v1:*",
    "//src/camera/drivers/bus/aml_mipicsi:*",
    "//src/camera/drivers/controller:*",
    "//src/camera/drivers/hw_accel/gdc:*",
    "//src/camera/drivers/hw_accel/gdc:*",
    "//src/camera/drivers/hw_accel/ge2d:*",
    "//src/camera/drivers/sensors/imx227:*",
    "//src/camera/drivers/usb_video:*",
    "//src/connectivity/bluetooth/core/bt-host:*",
    "//src/connectivity/bluetooth/hci/passthrough:*",
    "//src/connectivity/bluetooth/hci/transport/uart:*",
    "//src/connectivity/bluetooth/hci/transport/usb:*",
    "//src/connectivity/bluetooth/hci/vendor/atheros:*",
    "//src/connectivity/bluetooth/hci/vendor/broadcom:*",
    "//src/connectivity/bluetooth/hci/vendor/intel:*",
    "//src/connectivity/bluetooth/hci/vendor/marvell:*",
    "//src/connectivity/bluetooth/hci/virtual:*",
    "//src/connectivity/ethernet/drivers/aml-ethernet:*",
    "//src/connectivity/ethernet/drivers/asix-88179:*",
    "//src/connectivity/ethernet/drivers/asix-88772b:*",
    "//src/connectivity/ethernet/drivers/dwmac:*",
    "//src/connectivity/ethernet/drivers/ethernet/netdevice-migration:*",
    "//src/connectivity/ethernet/drivers/gvnic:*",
    "//src/connectivity/ethernet/drivers/realtek-8111:*",
    "//src/connectivity/ethernet/drivers/realtek-8211f:*",
    "//src/connectivity/ethernet/drivers/rndis-function:*",
    "//src/connectivity/ethernet/drivers/rndis-host:*",
    "//src/connectivity/ethernet/drivers/third_party/igc:*",
    "//src/connectivity/ethernet/drivers/usb-cdc-ecm:*",
    "//src/connectivity/ethernet/drivers/usb-cdc-function:*",
    "//src/connectivity/ethernet/drivers/virtio:*",
    "//src/connectivity/network/drivers/network-device:*",
    "//src/connectivity/openthread/drivers/ot-radio:*",
    "//src/connectivity/openthread/tests/fake-drivers/fake-ot-radio:*",
    "//src/connectivity/overnet/usb:*",
    "//src/connectivity/telephony/drivers/qmi-fake-transport:*",
    "//src/connectivity/telephony/drivers/qmi-usb-transport:*",
    "//src/connectivity/telephony/tests/fake-drivers/at-fake-transport:*",
    "//src/connectivity/telephony/tests/fake-drivers/fake-transport-base:*",
    "//src/connectivity/telephony/tests/fake-drivers/usb-qmi-function:*",
    "//src/connectivity/wlan/drivers/testing/lib/sim-device:*",
    "//src/connectivity/wlan/drivers/third_party/broadcom/brcmfmac:*",
    "//src/connectivity/wlan/drivers/third_party/nxp/nxpfmac:*",
    "//src/connectivity/wlan/drivers/wlanif:*",
    "//src/connectivity/wlan/drivers/wlanif/test:*",
    "//src/connectivity/wlan/drivers/wlanphy:*",
    "//src/connectivity/wlan/drivers/wlansoftmac:*",
    "//src/developer/adb/drivers/usb-adb-function:*",
    "//src/devices/acpi/drivers/acpi-battery:*",
    "//src/devices/acpi/drivers/intel-thermal:*",
    "//src/devices/bin/driver_host/tests:*",
    "//src/devices/block/drivers/abr-shim:*",
    "//src/devices/block/drivers/ahci:*",
    "//src/devices/block/drivers/aml-sdmmc:*",
    "//src/devices/block/drivers/as370-sdhci:*",
    "//src/devices/block/drivers/block-verity:*",
    "//src/devices/block/drivers/bootpart:*",
    "//src/devices/block/drivers/core:*",
    "//src/devices/block/drivers/ftl:*",
    "//src/devices/block/drivers/gpt:*",
    "//src/devices/block/drivers/imx8m-sdmmc:*",
    "//src/devices/block/drivers/mbr:*",
    "//src/devices/block/drivers/nvme:*",
    "//src/devices/block/drivers/pci-sdhci:*",
    "//src/devices/block/drivers/ramdisk:*",
    "//src/devices/block/drivers/sdhci:*",
    "//src/devices/block/drivers/sdmmc:*",
    "//src/devices/block/drivers/ufs:*",
    "//src/devices/block/drivers/ums-function:*",
    "//src/devices/block/drivers/usb-mass-storage:*",
    "//src/devices/block/drivers/virtio:*",
    "//src/devices/block/drivers/virtio:*",
    "//src/devices/block/drivers/zxcrypt:*",
    "//src/devices/block/lib/scsi:*",
    "//src/devices/block/lib/scsi/tests:*",
    "//src/devices/board/drivers/acpi-arm64:*",
    "//src/devices/board/drivers/astro:*",
    "//src/devices/board/drivers/integration-test:*",
    "//src/devices/board/drivers/machina:*",
    "//src/devices/board/drivers/nelson:*",
    "//src/devices/board/drivers/qemu-arm64:*",
    "//src/devices/board/drivers/qemu-riscv64:*",
    "//src/devices/board/drivers/sherlock:*",
    "//src/devices/board/drivers/vim3:*",
    "//src/devices/board/drivers/x86:*",
    "//src/devices/bus/drivers/pci:*",
    "//src/devices/bus/drivers/pci/test:*",
    "//src/devices/bus/drivers/platform:*",
    "//src/devices/bus/drivers/platform/test:*",
    "//src/devices/clock/drivers/amlogic-clk:*",
    "//src/devices/clock/drivers/as370-clk:*",
    "//src/devices/clock/drivers/clock:*",
    "//src/devices/cpu/drivers/aml-cpu:*",
    "//src/devices/cpu/drivers/aml-cpu-legacy:*",
    "//src/devices/gpio/drivers/aml-gpio:*",
    "//src/devices/gpio/drivers/as370-gpio:*",
    "//src/devices/gpio/drivers/gpio:*",
    "//src/devices/gpio/drivers/imx8m-gpio:*",
    "//src/devices/gpio/drivers/ti-tca6408a:*",
    "//src/devices/i2c/drivers/aml-i2c:*",
    "//src/devices/i2c/drivers/dw-i2c:*",
    "//src/devices/i2c/drivers/i2c:*",
    "//src/devices/i2c/drivers/imx8m-i2c:*",
    "//src/devices/i2c/drivers/intel-i2c:*",
    "//src/devices/internal/drivers/fragment:*",
    "//src/devices/internal/drivers/fragment:*",
    "//src/devices/lib:*",
    "//src/devices/lib/acpi:*",
    "//src/devices/lib/acpi/mock:*",
    "//src/devices/light-sensor/drivers/ams-light:*",
    "//src/devices/mailbox/drivers/aml-fifo-mailbox:*",
    "//src/devices/mailbox/drivers/aml-pl-mailbox:*",
    "//src/devices/mcu/drivers/chromiumos-ec-core:*",
    "//src/devices/mcu/drivers/chromiumos-ec-lpc:*",
    "//src/devices/mcu/drivers/vim3-mcu:*",
    "//src/devices/misc/drivers/chromeos-acpi:*",
    "//src/devices/misc/drivers/compat:*",
    "//src/devices/misc/drivers/cpu-trace:*",
    "//src/devices/misc/drivers/test:*",
    "//src/devices/misc/drivers/test-parent:*",
    "//src/devices/misc/drivers/virtio-rng:*",
    "//src/devices/ml/drivers/aml-nna:*",
    "//src/devices/ml/drivers/as370-nna:*",
    "//src/devices/ml/drivers/usb-harriet:*",
    "//src/devices/nand/drivers/aml-rawnand:*",
    "//src/devices/nand/drivers/aml-spinand:*",
    "//src/devices/nand/drivers/broker:*",
    "//src/devices/nand/drivers/cadence-hpnfc:*",
    "//src/devices/nand/drivers/intel-spi-flash:*",
    "//src/devices/nand/drivers/nand:*",
    "//src/devices/nand/drivers/nandpart:*",
    "//src/devices/nand/drivers/ram-nand:*",
    "//src/devices/nand/drivers/skip-block:*",
    "//src/devices/power/drivers/aml-meson-power:*",
    "//src/devices/power/drivers/aml-pwm-regulator:*",
    "//src/devices/power/drivers/as370-power:*",
    "//src/devices/power/drivers/fusb302:*",
    "//src/devices/power/drivers/nelson-brownout-protection:*",
    "//src/devices/power/drivers/power:*",
    "//src/devices/power/drivers/ti-ina231:*",
    "//src/devices/pwm/drivers/aml-pwm:*",
    "//src/devices/pwm/drivers/aml-pwm-init:*",
    "//src/devices/pwm/drivers/pwm:*",
    "//src/devices/ram/drivers/aml-ram:*",
    "//src/devices/registers/drivers/registers:*",
    "//src/devices/rtc/drivers/aml-rtc:*",
    "//src/devices/rtc/drivers/intel-rtc:*",
    "//src/devices/rtc/drivers/pl031-rtc:*",
    "//src/devices/rtc/lib/rtc:*",
    "//src/devices/securemem/drivers/aml-securemem:*",
    "//src/devices/serial/drivers/aml-uart:*",
    "//src/devices/serial/drivers/ftdi:*",
    "//src/devices/serial/drivers/serial:*",
    "//src/devices/serial/drivers/serial-async:*",
    "//src/devices/serial/drivers/uart16550:*",
    "//src/devices/serial/drivers/usb-cdc-acm:*",
    "//src/devices/serial/drivers/virtio-console:*",
    "//src/devices/shareddma/drivers/syn-dma:*",
    "//src/devices/spi/drivers/aml-spi:*",
    "//src/devices/spi/drivers/intel-gspi:*",
    "//src/devices/spi/drivers/spi:*",
    "//src/devices/sysmem/drivers/sysmem:*",
    "//src/devices/tee/drivers/optee:*",
    "//src/devices/temperature/drivers/shtv3:*",
    "//src/devices/temperature/drivers/tmp112:*",
    "//src/devices/tests/autobind:*",
    "//src/devices/tests/banjo-proxy:*",
    "//src/devices/tests/bind-fail-test:*",
    "//src/devices/tests/bind-test-v2:*",
    "//src/devices/tests/bindlib-codegen-test:*",
    "//src/devices/tests/ddk-environment-test:*",
    "//src/devices/tests/ddk-fallback-test:*",
    "//src/devices/tests/ddk-fallback-test-v2:*",
    "//src/devices/tests/ddk-fidl-test:*",
    "//src/devices/tests/ddk-firmware-test:*",
    "//src/devices/tests/ddk-lifecycle:*",
    "//src/devices/tests/ddk-metadata-test:*",
    "//src/devices/tests/ddk-power:*",
    "//src/devices/tests/ddk-topology-test:*",
    "//src/devices/tests/device-watcher:*",
    "//src/devices/tests/driver-inspect-test:*",
    "//src/devices/tests/driver-multiname-test:*",
    "//src/devices/tests/driver-runtime:*",
    "//src/devices/tests/driver-transport:*",
    "//src/devices/tests/fidl-bindlib-generation/child-driver:*",
    "//src/devices/tests/fidl-bindlib-generation/parent-driver:*",
    "//src/devices/tests/fidl-service:*",
    "//src/devices/tests/isolateddevmgr:*",
    "//src/devices/tests/mock-device:*",
    "//src/devices/tests/multibind-composite-test/drivers:*",
    "//src/devices/tests/node-group-test/drivers:*",
    "//src/devices/tests/nonbindable:*",
    "//src/devices/tests/runtime-composite-test/drivers:*",
    "//src/devices/tests/string-bind-test:*",
    "//src/devices/tests/sysdev:*",
    "//src/devices/tests/v2/compat-globals/leaf:*",
    "//src/devices/tests/v2/compat-globals/root:*",
    "//src/devices/tests/v2/compat-node-group/root:*",
    "//src/devices/tests/v2/compat-runtime:*",
    "//src/devices/tests/v2/compat-runtime-v1/leaf:*",
    "//src/devices/tests/v2/compat-runtime-v1/root:*",
    "//src/devices/tests/v2/compat/leaf:*",
    "//src/devices/tests/v2/compat/root:*",
    "//src/devices/tests/v2/ddk-init-test:*",
    "//src/devices/tests/v2/init-child-first:*",
    "//src/devices/tests/v2/inspect:*",
    "//src/devices/tests/v2/interop:*",
    "//src/devices/thermal/drivers/aml-thermal:*",
    "//src/devices/thermal/drivers/aml-thermal-s905d2g-legacy:*",
    "//src/devices/thermal/drivers/aml-thermistor:*",
    "//src/devices/thermal/drivers/as370-thermal:*",
    "//src/devices/tpm/drivers/cr50-spi:*",
    "//src/devices/tpm/drivers/tpm:*",
    "//src/devices/tpm/drivers/tpm-lpc:*",
    "//src/devices/usb/drivers/a1-usb-phy:*",
    "//src/devices/usb/drivers/a1-usb-phy:*",
    "//src/devices/usb/drivers/aml-usb-crg-phy-v2:*",
    "//src/devices/usb/drivers/aml-usb-phy-v2:*",
    "//src/devices/usb/drivers/as370-usb-phy:*",
    "//src/devices/usb/drivers/crg-udc:*",
    "//src/devices/usb/drivers/dwc2:*",
    "//src/devices/usb/drivers/dwc3:*",
    "//src/devices/usb/drivers/nelson-usb-phy:*",
    "//src/devices/usb/drivers/usb-bus:*",
    "//src/devices/usb/drivers/usb-composite:*",
    "//src/devices/usb/drivers/usb-hub:*",
    "//src/devices/usb/drivers/usb-peripheral:*",
    "//src/devices/usb/drivers/usb-peripheral-test:*",
    "//src/devices/usb/drivers/usb-virtual-bus:*",
    "//src/devices/usb/drivers/vim3-usb-phy:*",
    "//src/devices/usb/drivers/xhci:*",
    "//src/devices/usb/lib/usb-endpoint:*",
    "//src/devices/usb/lib/usb/tests:*",
    "//src/devices/usb/tests/usb-hci-test:*",
    "//src/diagnostics/validator/logs/ddk/log-test-driver:*",
    "//src/firmware/drivers/usb-fastboot-function:*",
    "//src/graphics/display/drivers/aml-canvas:*",
    "//src/graphics/display/drivers/aml-hdmi:*",
    "//src/graphics/display/drivers/amlogic-display:*",
    "//src/graphics/display/drivers/coordinator:*",
    "//src/graphics/display/drivers/dsi-dw:*",
    "//src/graphics/display/drivers/goldfish-display:*",
    "//src/graphics/display/drivers/intel-i915:*",
    "//src/graphics/display/drivers/simple:*",
    "//src/graphics/display/drivers/ssd1306:*",
    "//src/graphics/display/drivers/ssd1306:*",
    "//src/graphics/display/drivers/virtio-guest:*",
    "//src/graphics/drivers/aml-gpu:*",
    "//src/graphics/drivers/misc/goldfish:*",
    "//src/graphics/drivers/misc/goldfish:*",
    "//src/graphics/drivers/misc/goldfish_address_space:*",
    "//src/graphics/drivers/misc/goldfish_control:*",
    "//src/graphics/drivers/misc/goldfish_sync:*",
    "//src/graphics/drivers/msd-arm-mali:*",
    "//src/graphics/drivers/msd-intel-gen:*",
    "//src/graphics/drivers/msd-vsi-vip:*",
    "//src/graphics/lib/magma/src/magma_util/platform/zircon:*",
    "//src/graphics/lib/magma/src/sys_driver/dfv1:*",
    "//src/lib/ddktl/tests:*",
    "//src/media/audio/drivers/aml-dsp:*",
    "//src/media/audio/drivers/aml-dsp/aml-g12-pdm-dsp:*",
    "//src/media/audio/drivers/aml-dsp/aml-g12-tdm-dsp:*",
    "//src/media/audio/drivers/aml-g12-pdm:*",
    "//src/media/audio/drivers/aml-g12-tdm:*",
    "//src/media/audio/drivers/as370-pdm-input:*",
    "//src/media/audio/drivers/as370-tdm-output:*",
    "//src/media/audio/drivers/codecs/alc5514:*",
    "//src/media/audio/drivers/codecs/alc5663:*",
    "//src/media/audio/drivers/codecs/da7219:*",
    "//src/media/audio/drivers/codecs/max98373:*",
    "//src/media/audio/drivers/codecs/max98927:*",
    "//src/media/audio/drivers/codecs/tas27xx:*",
    "//src/media/audio/drivers/codecs/tas5707:*",
    "//src/media/audio/drivers/codecs/tas5720:*",
    "//src/media/audio/drivers/codecs/tas58xx:*",
    "//src/media/audio/drivers/intel-hda/codecs/hdmi:*",
    "//src/media/audio/drivers/intel-hda/codecs/qemu:*",
    "//src/media/audio/drivers/intel-hda/codecs/realtek:*",
    "//src/media/audio/drivers/intel-hda/controller:*",
    "//src/media/audio/drivers/tests/realm:*",
    "//src/media/audio/drivers/usb-audio:*",
    "//src/media/audio/drivers/virtual_audio:*",
    "//src/media/drivers/amlogic_decoder:*",
    "//src/storage/fvm/driver:*",
    "//src/ui/backlight/drivers/ti-lp8556:*",
    "//src/ui/backlight/drivers/vim3-pwm-backlight:*",
    "//src/ui/input/drivers/ctaphid:*",
    "//src/ui/input/drivers/cypress:*",
    "//src/ui/input/drivers/focaltech:*",
    "//src/ui/input/drivers/goldfish_sensor:*",
    "//src/ui/input/drivers/goodix:*",
    "//src/ui/input/drivers/gt6853:*",
    "//src/ui/input/drivers/hid:*",
    "//src/ui/input/drivers/hid-buttons:*",
    "//src/ui/input/drivers/hid-input-report:*",
    "//src/ui/input/drivers/hidctl:*",
    "//src/ui/input/drivers/i2c-hid:*",
    "//src/ui/input/drivers/pc-ps2:*",
    "//src/ui/input/drivers/pc-ps2:*",
    "//src/ui/input/drivers/usb-hid:*",
    "//src/ui/input/drivers/virtio:*",
    "//src/ui/light/drivers/aml-light:*",
    "//src/ui/light/drivers/lp50xx-light:*",
    "//third_party/pigweed/backends/pw_log:*",
    "//tools/create/goldens/my-driver-cpp:*",
    "//vendor/*",
    "//zircon/third_party/dev/ethernet/e1000:*",
  ]
}

group("driver_runtime") {
  deps = [ "//src/devices/bin/driver_runtime" ]
}

group("tests") {
  testonly = true
}
