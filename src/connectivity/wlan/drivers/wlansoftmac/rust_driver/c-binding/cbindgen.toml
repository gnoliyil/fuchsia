header = """
// Copyright 2022 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
"""
autogen_warning = """
// Warning:
// This file was autogenerated by cbindgen.
// Do not modify this file manually.
"""

include_guard = "SRC_CONNECTIVITY_WLAN_DRIVERS_WLANSOFTMAC_RUST_DRIVER_C_BINDING_BINDINGS_H_"
language = "C"

sys_includes = [
    "zircon/types.h",

    # Banjo types.
    "fuchsia/wlan/softmac/c/banjo.h",   # wlan_softmac_query_response_t, wlan_hw_scan_config_t,
                                                 # wlan_softmac_passive_scan_args_t, wlan_rx_info_t
    "fuchsia/wlan/common/c/banjo.h",   # wlan_channel_t
    "fuchsia/wlan/internal/c/banjo.h",   # join_bss_request_t
    "fuchsia/wlan/ieee80211/c/banjo.h",   # cssid_t
]

[parse]
parse_deps = true
include = ["wlan_mlme", "wlan_span", "wlansoftmac_rust"]

[export]
include = [
    "BufferProvider",
    "CSpan",
    "DeviceInterface",
    "InBuf",
    "OutBuf",
    "WlanSoftmacHandle",
]

exclude = [
    # Banjo types.
    "BssConfig",
    "CSsid",
    "DiscoverySupport",
    "MacSublayerSupport",
    "SecuritySupport",
    "SpectrumManagementSupport",
    "WlanSoftmacStartActiveScanRequest",
    "WlanSoftmacStartPassiveScanRequest",
    "WlanChannel",
    "WlanIndication",
    "WlanKeyConfig",
    "WlanSoftmacQueryResponse",
    "WlanRxInfo",
    "WlanTxInfo",
    "WlanTxPacket",
    "WlanTxResult",

    # Voided types.
    "DriverEventSink",
]

[export.rename]
"BufferProvider" = "wlansoftmac_buffer_provider_ops_t"
"CSpan" = "wlan_span_t"
"DeviceInterface" = "rust_device_interface_t"
"InBuf" = "wlansoftmac_in_buf_t"
"OutBuf" = "wlansoftmac_out_buf_t"
"WlanSoftmacHandle" = "wlansoftmac_handle_t"

# Banjo types.
"JoinBssRequest" = "join_bss_request_t"
"CSsid" = "cssid_t"
"DiscoverySupport" = "discovery_support_t"
"MacSublayerSupport" = "mac_sublayer_support_t"
"SecuritySupport" = "security_support_t"
"SpectrumManagementSupport" = "spectrum_management_support_t"
"WlanSoftmacStartActiveScanRequest" = "wlan_softmac_start_active_scan_request_t"
"WlanSoftmacStartPassiveScanRequest" = "wlan_softmac_start_passive_scan_request_t"
"WlanChannel" = "wlan_channel_t"
"WlanSoftmacIfcProtocol" = "rust_wlan_softmac_ifc_protocol_copy_t"
"WlanSoftmacIfcProtocolOps" = "rust_wlan_softmac_ifc_protocol_ops_copy_t"
"WlanSoftmacQueryResponse" = "wlan_softmac_query_response_t"
"WlanIndication" = "wlan_indication_t"
"WlanKeyConfiguration" = "wlan_key_configuration_t"
"WlanRxPacket" = "wlan_rx_packet_t"
"WlanRxInfo" = "wlan_rx_info_t"
"WlanTxPacket" = "wlan_tx_packet_t"
"WlanTxInfo" = "wlan_tx_info_t"
"WlanTxResult" = "wlan_tx_result_t"
"WlanWmmParams" = "wlan_wmm_params_t"

# fuchsia-zircon types
"Vmo" = "zx_handle_t"

# This struct is used for void* context fields in protocol ops.
"DriverEventSink" = "void"

[fn]
prefix = 'extern "C"'

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = true
