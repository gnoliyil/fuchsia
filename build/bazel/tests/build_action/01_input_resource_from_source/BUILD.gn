# Copyright 2023 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/bazel/bazel_action.gni")
import("//build/bazel/bazel_inputs.gni")

# See README.txt for details

bazel_input_resource("bazel_input") {
  name = "01_input_resource_from_source_input"
  sources = [ "foo.in.txt" ]
  outputs = sources
}

bazel_action("test") {
  command = "build"
  bazel_targets = [
    "//build/bazel/tests/build_action/01_input_resource_from_source:copy_input",
  ]
  bazel_inputs = [ ":bazel_input" ]
  bazel_outputs = [ "bazel-bin/build/bazel/tests/build_action/01_input_resource_from_source/foo.out.txt" ]
  ninja_outputs = [ "foo.ninja.out" ]
}
